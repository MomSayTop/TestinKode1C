//Заполнение ТЧ_Товары, из справочника (безусловно), в соответсвии с указанным ТипомНоменклатуры
//При решении, используется общий модуль "Сервер"
//Справочник.Номенклатура - Иерархический, с глубиной 2

////////////////////
//ОбщиеМодули
//РаботаСДокументамиСервер
////////////////////
Функция СформироватьТЧНоменклатураМассив (ГруппаНом) Экспорт
  Выборка.Справочники.Номеклатура.Выбрать(ГруппаНом);
  МассивЗначений = Новый Массив;
  Пока Выборка.Следующий() Цикл
    МассивЗначений.Добавить(Выборка.Ссылка);
   КонецЦикла;
   Возврат МассивЗначений;
КонецФункции

////////////////////
//Документы.РеаализацияТовараИУслуг
//МодульФормы
////////////////////
&НаКлиенте
Процедура ЗаполнитьТЧ(Команда)
  МассивЗначений = РаботаСДокументамиСервер.СформироватьТЧНоменклатураМассив(Объект.ГруппыНоменклатуры);
  Для Каждого Стр ИЗ МассивЗначений
    НовСтр = Объект.Товары.Добавить();
    НовСтр.Номенклатура = Стр;
  КонецЦикла;
КонецПроцедуры
